<p>ç»™å®šæ•´æ•° <code>n</code> ï¼Œè¿”å› <em>æ‰€æœ‰å°äºéè´Ÿæ•´æ•°&nbsp;<code>n</code>&nbsp;çš„è´¨æ•°çš„æ•°é‡</em> ã€‚</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>n = 10
<strong>è¾“å‡ºï¼š</strong>4
<strong>è§£é‡Šï¼š</strong>å°äº 10 çš„è´¨æ•°ä¸€å…±æœ‰ 4 ä¸ª, å®ƒä»¬æ˜¯ 2, 3, 5, 7 ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>n = 0
<strong>è¾“å‡ºï¼š</strong>0
</pre>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>n = 1
<strong>è¾“å‡º</strong>ï¼š0
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul> 
 <li><code>0 &lt;= n &lt;= 5 * 10<sup>6</sup></code></li> 
</ul>

<details><summary><strong>Related Topics</strong></summary>æ•°ç»„ | æ•°å­¦ | æšä¸¾ | æ•°è®º</details><br>

<div>ğŸ‘ 1069, ğŸ‘ 0<span style='float: right;'><span style='color: gray;'><a href='https://github.com/labuladong/fucking-algorithm/discussions/939' target='_blank' style='color: lightgray;text-decoration: underline;'>bug åé¦ˆ</a> | <a href='https://labuladong.gitee.io/article/fname.html?fname=jbæ’ä»¶ç®€ä»‹' target='_blank' style='color: lightgray;text-decoration: underline;'>ä½¿ç”¨æŒ‡å—</a> | <a href='https://labuladong.github.io/algo/images/others/%E5%85%A8%E5%AE%B6%E6%A1%B6.jpg' target='_blank' style='color: lightgray;text-decoration: underline;'>æ›´å¤šé…å¥—æ’ä»¶</a></span></span></div>

<div id="labuladong"><hr>

**é€šçŸ¥ï¼š[æ•°æ®ç»“æ„ç²¾å“è¯¾](https://aep.h5.xeknow.com/s/1XJHEO) å·²æ›´æ–°åˆ° V2.1ï¼Œ[æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘ç³»åˆ—è¯¾ç¨‹](https://aep.xet.tech/s/3YGcq3) ä¸Šçº¿ï¼Œ[ç¬¬ 20 æœŸæ‰“å¡æŒ‘æˆ˜](https://opedk.xet.tech/s/1cEM6U) å³å°†å¼€å§‹ï¼Œæœ€å 1 å¤©æŠ¥åï¼**



<p><strong><a href="https://labuladong.gitee.io/article/slug.html?slug=count-primes" target="_blank">â­ï¸labuladong é¢˜è§£</a></strong></p>
<details><summary><strong>labuladong æ€è·¯</strong></summary>

## åŸºæœ¬æ€è·¯

PSï¼šè¿™é“é¢˜åœ¨[ã€Šç®—æ³•å°æŠ„ã€‹](https://item.jd.com/12759911.html) çš„ç¬¬ 351 é¡µã€‚

ç­›æ•°æ³•æ˜¯å¸¸è§çš„è®¡ç®—ç´ æ•°çš„ç®—æ³•ã€‚

å› ä¸ºåˆ¤æ–­ä¸€ä¸ªæ•°å­—æ˜¯å¦æ˜¯ç´ æ•°çš„æ—¶é—´æˆæœ¬è¾ƒé«˜ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸è¦ä¸€ä¸ªä¸ªåˆ¤æ–­æ¯ä¸ªæ•°å­—æ˜¯å¦æ˜¯ç´ æ•°ï¼Œè€Œæ˜¯ç”¨æ’é™¤æ³•ï¼ŒæŠŠæ‰€æœ‰éç´ æ•°éƒ½æ’é™¤ï¼Œå‰©ä¸‹çš„å°±æ˜¯ç´ æ•°ã€‚

**è¯¦ç»†é¢˜è§£ï¼š[å¦‚ä½•é«˜æ•ˆå¯»æ‰¾ç´ æ•°](https://labuladong.github.io/article/fname.html?fname=æ‰“å°ç´ æ•°)**

**æ ‡ç­¾ï¼š[æ•°å­¦](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxODQxMDM0Mw==&action=getalbum&album_id=2122023604245659649)**

## è§£æ³•ä»£ç 

æç¤ºï¼šğŸŸ¢ æ ‡è®°çš„æ˜¯æˆ‘å†™çš„è§£æ³•ä»£ç ï¼ŒğŸ¤– æ ‡è®°çš„æ˜¯ chatGPT ç¿»è¯‘çš„å¤šè¯­è¨€è§£æ³•ä»£ç ã€‚å¦‚æœ‰é”™è¯¯ï¼Œå¯ä»¥ [ç‚¹è¿™é‡Œ](https://github.com/labuladong/fucking-algorithm/issues/1113) åé¦ˆå’Œä¿®æ­£ã€‚

<div class="tab-panel"><div class="tab-nav">
<button data-tab-item="cpp" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">cppğŸ¤–</button>

<button data-tab-item="python" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">pythonğŸ¤–</button>

<button data-tab-item="java" class="tab-nav-button btn active" data-tab-group="default" onclick="switchTab(this)">javağŸŸ¢</button>

<button data-tab-item="go" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">goğŸ¤–</button>

<button data-tab-item="javascript" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">javascriptğŸ¤–</button>
</div><div class="tab-content">
<div data-tab-item="cpp" class="tab-item " data-tab-group="default"><div class="highlight">

```cpp
// æ³¨æ„ï¼šcpp ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
// æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

class Solution {
public:
    int countPrimes(int n) {
        vector<bool> isPrime(n, true); // vector instead of array
        for (int i = 2; i * i < n; i++)
            if (isPrime[i])
                for (int j = i * i; j < n; j += i)
                    isPrime[j] = false;

        int count = 0;
        for (int i = 2; i < n; i++)
            if (isPrime[i]) count++;

        return count;
    }
};
```

</div></div>

<div data-tab-item="python" class="tab-item " data-tab-group="default"><div class="highlight">

```python
# æ³¨æ„ï¼špython ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
# æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

class Solution:
    def countPrimes(self, n: int) -> int:
        isPrime = [True]*n
        for i in range(2, int(n**0.5)+1):
            if isPrime[i]:
                for j in range(i*i, n, i):
                    isPrime[j] = False

        count = 0
        for i in range(2, n):
            if isPrime[i]:
                count += 1

        return count
```

</div></div>

<div data-tab-item="java" class="tab-item active" data-tab-group="default"><div class="highlight">

```java
class Solution {
    public int countPrimes(int n) {
        boolean[] isPrime = new boolean[n];
        Arrays.fill(isPrime, true);
        for (int i = 2; i * i < n; i++)
            if (isPrime[i])
                for (int j = i * i; j < n; j += i)
                    isPrime[j] = false;

        int count = 0;
        for (int i = 2; i < n; i++)
            if (isPrime[i]) count++;

        return count;
    }
}
```

</div></div>

<div data-tab-item="go" class="tab-item " data-tab-group="default"><div class="highlight">

```go
// æ³¨æ„ï¼šgo ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
// æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

func countPrimes(n int) int {
    // create boolean array with default value true
    isPrime := make([]bool, n)
    for i := range isPrime {
        isPrime[i] = true
    }

    // loop through all numbers up to the square root of n
    for i := 2; i*i < n; i++ {
        if isPrime[i] {
            // loop through multiples of i and mark them as not prime
            for j := i * i; j < n; j += i {
                isPrime[j] = false
            }
        }
    }

    // count number of primes
    count := 0
    for i := 2; i < n; i++ {
        if isPrime[i] {
            count++
        }
    }

    return count
}
```

</div></div>

<div data-tab-item="javascript" class="tab-item " data-tab-group="default"><div class="highlight">

```javascript
// æ³¨æ„ï¼šjavascript ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
// æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

/**
 * @param {number} n
 * @return {number}
 */
var countPrimes = function(n) {
    const isPrime = new Array(n).fill(true);
    for (let i = 2; i * i < n; i++) {
        if (isPrime[i]) {
            for (let j = i * i; j < n; j += i) {
                isPrime[j] = false;
            }
        }
    }
    let count = 0;
    for (let i = 2; i < n; i++) {
        if (isPrime[i]) count++;
    }
    return count;
};
```

</div></div>
</div></div>

<details open><summary><strong>ğŸ‘¾ğŸ‘¾ ç®—æ³•å¯è§†åŒ– ğŸ‘¾ğŸ‘¾</strong></summary><div id="data_count-primes" data="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"></div><div class="resizable aspect-ratio-container" style="height: 100%;">
<div id="iframe_count-primes"></div></div>
</details><hr /><br />

**ç±»ä¼¼é¢˜ç›®**ï¼š
  - [264. ä¸‘æ•° II ğŸŸ ](/problems/ugly-number-ii)
  - [å‰‘æŒ‡ Offer 49. ä¸‘æ•° ğŸŸ ](/problems/chou-shu-lcof)

</details>
</div>



